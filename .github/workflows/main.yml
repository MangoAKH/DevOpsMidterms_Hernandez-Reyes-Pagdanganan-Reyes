name: Automated Pull Request

on:
  push:
    # This triggers the action whenever you push to a branch starting with "feature/"
    branches:
      - 'feature/*'
  workflow_dispatch: # Allows you to trigger it manually for testing

jobs:
  create-pr:
    runs-on: ubuntu-latest
    # These permissions allow the Action to create the PR on your behalf
    permissions:
      pull-requests: write
      contents: write
      
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v5
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          commit-message: "Automated PR from GitHub Actions"
          title: "Merge: ${{ github.ref_name }} into main"
          body: |
            ## Automated Pull Request
            This PR was automatically generated because code was pushed to the branch: `${{ github.ref_name }}`.
          base: main # The branch you want to merge into
